---
title:  02. Instalaci贸n y configuraci贸n b谩sica
description: Aprende a instalar y configurar Ziggy.js en tu proyecto Laravel
---

import { Code } from '@astrojs/starlight/components';
import { Tabs, TabItem } from '@astrojs/starlight/components';
import { Badge } from '@astrojs/starlight/components';
import { Aside } from '@astrojs/starlight/components';

## Instalaci贸n con NPM o Yarn

Ziggy se puede instalar f谩cilmente en tu proyecto Laravel utilizando NPM o Yarn. Primero, aseg煤rate de tener un proyecto Laravel con Node.js configurado.

<Tabs>
  <TabItem label="NPM">
    ```bash
    # Usando NPM
    npm install ziggy-js
    ```
  </TabItem>
  
  <TabItem label="Yarn">
    ```bash
    # Usando Yarn
    yarn add ziggy-js
    ```
  </TabItem>
</Tabs>

<Aside type="tip">
  Ziggy requiere Laravel 5.6 o superior y Node.js 12 o superior para funcionar correctamente.
</Aside>

## Publicaci贸n del archivo ziggy.php

Despu茅s de instalar el paquete, necesitas publicar el archivo de configuraci贸n de Ziggy. Este archivo te permitir谩 personalizar qu茅 rutas se exponen a JavaScript y otras opciones.

```bash
php artisan ziggy:generate
```

Este comando crear谩 un archivo `ziggy.php` en el directorio `config` de tu proyecto Laravel. El archivo de configuraci贸n tiene esta estructura b谩sica:

<Code code={`<?php
// config/ziggy.php

return [
    // Rutas que se expondr谩n a JavaScript
    'groups' => [
        'web' => [
            'fallback' => true,
            'only' => [],
            'except' => [],
        ],
    ],
    
    // Dominio base para las rutas
    'url' => env('APP_URL'),
    
    // Prefijo para las rutas
    'prefix' => null,
    
    // Dominio para las cookies
    'domain' => null,
];
`} lang="php" title="config/ziggy.php" />

## Agregar Ziggy a vite.config.js o webpack.mix.js

Para integrar Ziggy en tu proceso de compilaci贸n de assets, necesitas configurar tu herramienta de compilaci贸n. A continuaci贸n se muestran ejemplos para Vite y Laravel Mix.

<Tabs>
  <TabItem label="Vite (Laravel 9+)">
    Para proyectos Laravel modernos que utilizan Vite:
    
    ```js
    // vite.config.js
    import { defineConfig } from 'vite';
    import laravel from 'laravel-vite-plugin';
    
    export default defineConfig({
        plugins: [
            laravel({
                input: ['resources/css/app.css', 'resources/js/app.js'],
                refresh: true,
            }),
        ],
        resolve: {
            alias: {
                // Asegura que Ziggy est茅 disponible globalmente
                'ziggy-js': '/vendor/tightenco/ziggy/dist/index.js',
            },
        },
    });
    ```
    
    Luego, en tu archivo JavaScript principal:
    
    ```js
    // resources/js/app.js
    import { Ziggy } from './ziggy';
    import route from 'ziggy-js';
    
    // Hacer que route est茅 disponible globalmente
    window.route = route;
    ```
  </TabItem>
  
  <TabItem label="Laravel Mix (Laravel 8 y anteriores)">
    Para proyectos que utilizan Laravel Mix:
    
    ```js
    // webpack.mix.js
    const mix = require('laravel-mix');
    
    mix.js('resources/js/app.js', 'public/js')
       .postCss('resources/css/app.css', 'public/css', [
           //
       ])
       .webpackConfig({
           resolve: {
               alias: {
                   'ziggy-js': path.resolve('vendor/tightenco/ziggy/dist/index.js'),
               }
           }
       });
    ```
    
    Y en tu archivo JavaScript principal:
    
    ```js
    // resources/js/app.js
    import { Ziggy } from './ziggy';
    import route from 'ziggy-js';
    
    window.route = route;
    ```
  </TabItem>
</Tabs>

## Incluir Ziggy en la vista Blade principal

Para que Ziggy funcione correctamente, necesitas incluir el archivo de rutas generado en tu vista Blade principal. Hay varias formas de hacerlo:

<Tabs>
  <TabItem label="Usando la directiva @routes">
    La forma m谩s sencilla es usar la directiva `@routes` en tu plantilla Blade principal:
    
    ```html
    <!-- resources/views/app.blade.php -->
    <!DOCTYPE html>
    <html>
    <head>
        <title>Mi aplicaci贸n Laravel</title>
        @routes <!-- Esto inyecta las rutas de Ziggy -->
        @vite(['resources/css/app.css', 'resources/js/app.js'])
    </head>
    <body>
        <div id="app"><!-- Contenido de la aplicaci贸n --></div>
    </body>
    </html>
    ```
  </TabItem>
  
  <TabItem label="Generando un archivo ziggy.js">
    Tambi茅n puedes generar un archivo JavaScript con las rutas:
    
    ```bash
    php artisan ziggy:generate resources/js/ziggy.js
    ```
    
    Y luego importarlo en tu aplicaci贸n:
    
    ```js
    // resources/js/app.js
    import { Ziggy } from './ziggy';
    import route from 'ziggy-js';
    
    window.route = route;
    ```
  </TabItem>
  
  <TabItem label="Con Inertia.js">
    Si est谩s usando Inertia.js, puedes incluir Ziggy como una prop compartida:
    
    ```php
    // app/Http/Middleware/HandleInertiaRequests.php
    public function share(Request $request)
    {
        return array_merge(parent::share($request), [
            'ziggy' => function () use ($request) {
                return array_merge((new Ziggy)->toArray(), [
                    'location' => $request->url(),
                ]);
            },
        ]);
    }
    ```
    
    Y en tu aplicaci贸n JavaScript:
    
    ```js
    // resources/js/app.js
    import { createInertiaApp } from '@inertiajs/inertia-vue3';
    import route from 'ziggy-js';
    
    createInertiaApp({
        // ...
        setup({ el, app, props, plugin }) {
            // Hacer que route est茅 disponible globalmente
            window.route = (name, params, absolute) => {
                return route(name, params, absolute, props.initialPage.props.ziggy);
            };
            
            // ...
        },
    });
    ```
  </TabItem>
</Tabs>

## Verificaci贸n de la instalaci贸n

Para verificar que Ziggy se ha instalado correctamente, puedes abrir la consola del navegador y probar la funci贸n `route()`:

```js
// Deber铆a devolver la URL para la ruta 'home'
console.log(route('home'));

// Deber铆a mostrar todas las rutas disponibles
console.log(route().all());
```

<Aside type="caution">
  Si recibes un error de que `route is not defined`, aseg煤rate de que la directiva <code>@routes</code> est茅 incluida en tu vista Blade antes de cargar tus scripts JavaScript, o que est谩s importando correctamente el archivo ziggy.js generado.
</Aside>

## Resumen de instalaci贸n

<Badge text="1" /> Instalar el paquete con NPM o Yarn

<Badge text="2" /> Publicar el archivo de configuraci贸n con `php artisan ziggy:generate`

<Badge text="3" /> Configurar tu herramienta de compilaci贸n (Vite o Laravel Mix)

<Badge text="4" /> Incluir Ziggy en tu vista Blade principal

<Badge text="5" /> Verificar la instalaci贸n en la consola del navegador
