---
title: 3. Tipos de Relaciones en Casos de Uso
description: Asociación, inclusión, extensión y generalización en los diagramas de casos de uso UML
---

import { Code } from '@astrojs/starlight/components';
import { Tabs, TabItem } from '@astrojs/starlight/components';
import { Badge } from '@astrojs/starlight/components';
import { Aside } from '@astrojs/starlight/components';
import { Steps } from '@astrojs/starlight/components';
import PlantUml from "@components/PlantUml.astro";


Las relaciones en los diagramas de casos de uso permiten mostrar cómo los diferentes elementos interactúan entre sí. Estas relaciones ayudan a estructurar y organizar los casos de uso, reduciendo la redundancia y mejorando la claridad del diagrama.

## 3.1. Asociación (actor–caso de uso)

La asociación es el tipo de relación más básico en los diagramas de casos de uso, conectando actores con los casos de uso con los que interactúan.

### Características de la asociación

<div>
  <ul>
    <li>Representa la comunicación entre un actor y un caso de uso</li>
    <li>Se dibuja como una línea sólida entre el actor y el caso de uso</li>
    <li>Indica que el actor participa en el caso de uso</li>
    <li>No tiene dirección específica (aunque a veces se usa una flecha para indicar quién inicia la interacción)</li>
  </ul>
</div>

<Tabs>
  <TabItem label="Ejemplo básico">
    <div>
      <PlantUml code={`@startuml
actor Usuario
usecase "Realizar Compra" as RealizarCompra

Usuario --> RealizarCompra
@enduml`} />
      <p>En este ejemplo básico, un Usuario se asocia con el caso de uso Realizar Compra, indicando que el usuario puede iniciar o participar en esta funcionalidad.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema educativo">
    <div>
      <PlantUml code={`@startuml
actor Estudiante
actor Profesor
actor "Administrador" as Admin

usecase "Consultar Calificaciones" as ConsultarCalificaciones
usecase "Registrar Asistencia" as RegistrarAsistencia
usecase "Subir Material" as SubirMaterial
usecase "Gestionar Usuarios" as GestionarUsuarios

Estudiante --> ConsultarCalificaciones
Profesor --> ConsultarCalificaciones
Profesor --> RegistrarAsistencia
Profesor --> SubirMaterial
Admin --> GestionarUsuarios
@enduml`} />
      <p>Este ejemplo muestra un sistema educativo con múltiples actores (Estudiante, Profesor, Administrador) y sus asociaciones con diferentes casos de uso. Tanto estudiantes como profesores pueden consultar calificaciones, mientras que solo los profesores pueden registrar asistencia y subir material, y solo los administradores pueden gestionar usuarios.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema hospitalario">
    <div>
      <PlantUml code={`@startuml
actor Paciente
actor Médico
actor Enfermera
actor "Personal Administrativo" as Admin

usecase "Solicitar Cita" as SolicitarCita
usecase "Consultar Historial" as ConsultarHistorial
usecase "Registrar Signos Vitales" as RegistrarSignos
usecase "Prescribir Medicamentos" as PrescribirMedicamentos
usecase "Facturar Servicios" as FacturarServicios

Paciente --> SolicitarCita
Médico --> ConsultarHistorial
Enfermera --> ConsultarHistorial
Enfermera --> RegistrarSignos
Médico --> PrescribirMedicamentos
Admin --> FacturarServicios
Admin --> SolicitarCita
@enduml`} />
      <p>Este ejemplo ilustra un sistema hospitalario donde diferentes actores tienen distintas asociaciones con los casos de uso. Los pacientes pueden solicitar citas, los médicos pueden consultar historiales y prescribir medicamentos, las enfermeras pueden registrar signos vitales y consultar historiales, y el personal administrativo puede facturar servicios y también ayudar a solicitar citas.</p>
    </div>
  </TabItem>
</Tabs>

### Multiplicidad en asociaciones

Aunque no es común mostrarla en diagramas de casos de uso, la multiplicidad puede indicarse para representar cuántas instancias de un actor pueden participar en un caso de uso y viceversa.

<Tabs>
  <TabItem label="Ejemplo básico">
    <div>
      <PlantUml code={`@startuml
actor "Usuario" as Usuario
usecase "Realizar Compra" as RealizarCompra

Usuario "1..*" --> "1" RealizarCompra
@enduml`} />
      <p>En este ejemplo, la notación "1..*" indica que uno o más usuarios pueden participar en una instancia del caso de uso "Realizar Compra".</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema de reservas">
    <div>
      <PlantUml code={`@startuml
actor "Cliente" as Cliente
actor "Agente" as Agente
usecase "Reservar Habitación" as ReservarHabitacion
usecase "Gestionar Reserva" as GestionarReserva

Cliente "1" --> "*" ReservarHabitacion : realiza
Agente "1" --> "*" ReservarHabitacion : asiste en
Agente "1" --> "*" GestionarReserva : administra
@enduml`} />
      <p>En este sistema de reservas de hotel, un cliente puede realizar múltiples reservas de habitaciones ("1" a "*"), y un agente puede asistir en múltiples reservas y gestionar múltiples reservas existentes.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema bancario">
    <div>
      <PlantUml code={`@startuml
actor "Cliente" as Cliente
actor "Cajero" as Cajero
usecase "Abrir Cuenta" as AbrirCuenta
usecase "Realizar Transacción" as RealizarTransaccion

Cliente "1" --> "1..5" AbrirCuenta : solicita
Cliente "1" --> "*" RealizarTransaccion : ejecuta
Cajero "1..*" --> "*" RealizarTransaccion : procesa
@enduml`} />
      <p>En este sistema bancario, un cliente puede abrir entre 1 y 5 cuentas ("1..5"), y puede realizar múltiples transacciones ("*"). Uno o más cajeros ("1..*") pueden procesar múltiples transacciones.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema de biblioteca">
    <div>
      <PlantUml code={`@startuml
actor "Lector" as Lector
actor "Bibliotecario" as Bibliotecario
usecase "Prestar Libro" as PrestarLibro
usecase "Devolver Libro" as DevolverLibro
usecase "Catalogar Material" as CatalogarMaterial

Lector "1" --> "0..5" PrestarLibro : solicita
Lector "1" --> "0..5" DevolverLibro : realiza
Bibliotecario "1..3" --> "*" PrestarLibro : gestiona
Bibliotecario "1" --> "*" CatalogarMaterial : ejecuta
@enduml`} />
      <p>En este sistema de biblioteca, un lector puede tener entre 0 y 5 préstamos activos y devoluciones pendientes. Entre 1 y 3 bibliotecarios pueden gestionar cada préstamo, y un bibliotecario puede catalogar múltiples materiales.</p>
    </div>
  </TabItem>
</Tabs>

<Aside type="note">
  La multiplicidad en las asociaciones permite especificar cuántas instancias de un actor pueden participar en un caso de uso y viceversa. Las notaciones comunes incluyen "1" (exactamente uno), "*" (cero o más), "1..*" (uno o más), "0..1" (cero o uno) y rangos específicos como "2..5" (entre dos y cinco).
</Aside>

## 3.2. Inclusión («include»)

La relación de inclusión se utiliza cuando un caso de uso incorpora el comportamiento de otro caso de uso como parte de su flujo.

### Características de la inclusión

<div>
  <ul>
    <li>El caso de uso base <strong>siempre</strong> incluye el comportamiento del caso de uso incluido</li>
    <li>Se representa con una flecha discontinua con la etiqueta «include»</li>
    <li>La flecha apunta hacia el caso de uso incluido</li>
    <li>Permite reutilizar funcionalidades comunes</li>
    <li>El caso de uso incluido no es independiente (no tiene valor por sí solo)</li>
  </ul>
</div>

<PlantUml code={`@startuml
usecase "Realizar Pago" as RealizarPago
usecase "Autenticar Usuario" as AutenticarUsuario

RealizarPago ..> AutenticarUsuario : <<include>>
@enduml`} />

### Cuándo usar la relación de inclusión

<div>
  <ul>
    <li>Para extraer comportamiento común que se repite en varios casos de uso</li>
    <li>Para simplificar casos de uso complejos dividiéndolos en partes más manejables</li>
    <li>Para separar funcionalidades obligatorias que siempre se ejecutan</li>
  </ul>
</div>

<Tabs>
  <TabItem label="Ejemplo comercial">
    <div>
      <PlantUml code={`@startuml
usecase "Realizar Compra" as RealizarCompra
usecase "Procesar Pago" as ProcesarPago
usecase "Verificar Inventario" as VerificarInventario
usecase "Generar Factura" as GenerarFactura

RealizarCompra ..> ProcesarPago : <<include>>
RealizarCompra ..> VerificarInventario : <<include>>
ProcesarPago ..> GenerarFactura : <<include>>
@enduml`} />
      <p>En este ejemplo, "Realizar Compra" siempre incluye verificar el inventario, procesar el pago y generar una factura.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema bancario">
    <div>
      <PlantUml code={`@startuml
actor Cliente
actor Cajero
actor "Sistema Externo" as SistemaExterno

usecase "Realizar Transacción" as RealizarTransaccion
usecase "Autenticar Usuario" as AutenticarUsuario
usecase "Verificar Fondos" as VerificarFondos
usecase "Registrar Operación" as RegistrarOperacion
usecase "Notificar Cliente" as NotificarCliente

Cliente --> RealizarTransaccion
Cajero --> RealizarTransaccion
SistemaExterno --> NotificarCliente

RealizarTransaccion ..> AutenticarUsuario : <<include>>
RealizarTransaccion ..> VerificarFondos : <<include>>
RealizarTransaccion ..> RegistrarOperacion : <<include>>
RegistrarOperacion ..> NotificarCliente : <<include>>
@enduml`} />
      <p>Este ejemplo muestra un sistema bancario donde "Realizar Transacción" siempre incluye autenticar al usuario, verificar fondos y registrar la operación. Además, el registro de operación siempre incluye notificar al cliente. Participan varios actores: Cliente, Cajero y un Sistema Externo para notificaciones.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema de reservas">
    <div>
      <PlantUml code={`@startuml
actor Cliente
actor "Agente de Reservas" as Agente

usecase "Reservar Vuelo" as ReservarVuelo
usecase "Buscar Disponibilidad" as BuscarDisponibilidad
usecase "Seleccionar Asiento" as SeleccionarAsiento
usecase "Procesar Pago" as ProcesarPago
usecase "Emitir Boleto" as EmitirBoleto

Cliente --> ReservarVuelo
Agente --> ReservarVuelo

ReservarVuelo ..> BuscarDisponibilidad : <<include>>
ReservarVuelo ..> SeleccionarAsiento : <<include>>
ReservarVuelo ..> ProcesarPago : <<include>>
ReservarVuelo ..> EmitirBoleto : <<include>>
@enduml`} />
      <p>En este sistema de reservas de vuelos, el caso de uso "Reservar Vuelo" siempre incluye buscar disponibilidad, seleccionar asiento, procesar el pago y emitir el boleto. Tanto el Cliente como el Agente de Reservas pueden iniciar este caso de uso.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema de ventas complejo">
    <div>
      <PlantUml code={`@startuml
actor Cliente
actor Vendedor
actor Almacenista
actor "Sistema Contable" as SistemaContable
actor "Sistema de Envíos" as SistemaEnvios

usecase "Procesar Venta" as ProcesarVenta
usecase "Autenticar Usuario" as AutenticarUsuario
usecase "Consultar Catálogo" as ConsultarCatalogo
usecase "Verificar Disponibilidad" as VerificarDisponibilidad
usecase "Calcular Impuestos" as CalcularImpuestos
usecase "Procesar Pago" as ProcesarPago
usecase "Generar Factura" as GenerarFactura
usecase "Actualizar Inventario" as ActualizarInventario
usecase "Programar Envío" as ProgramarEnvio
usecase "Registrar Comisión" as RegistrarComision

Cliente --> ProcesarVenta
Vendedor --> ProcesarVenta
Almacenista --> ActualizarInventario
SistemaContable --> GenerarFactura
SistemaEnvios --> ProgramarEnvio

ProcesarVenta ..> AutenticarUsuario : <<include>>
ProcesarVenta ..> ConsultarCatalogo : <<include>>
ProcesarVenta ..> VerificarDisponibilidad : <<include>>
ProcesarVenta ..> CalcularImpuestos : <<include>>
ProcesarVenta ..> ProcesarPago : <<include>>
ProcesarVenta ..> GenerarFactura : <<include>>
ProcesarVenta ..> ActualizarInventario : <<include>>
ProcesarVenta ..> ProgramarEnvio : <<include>>
ProcesarVenta ..> RegistrarComision : <<include>>

VerificarDisponibilidad ..> ActualizarInventario : <<include>>
GenerarFactura ..> CalcularImpuestos : <<include>>
@enduml`} />
      <p>Este ejemplo muestra un sistema de ventas complejo con múltiples actores (Cliente, Vendedor, Almacenista, Sistema Contable, Sistema de Envíos) y numerosos casos de uso incluidos. El caso de uso principal "Procesar Venta" incluye obligatoriamente varios pasos como autenticar usuario, consultar catálogo, verificar disponibilidad, calcular impuestos, procesar pago, generar factura, actualizar inventario, programar envío y registrar comisión del vendedor. Además, hay relaciones de inclusión anidadas: "Verificar Disponibilidad" incluye "Actualizar Inventario" y "Generar Factura" incluye "Calcular Impuestos".</p>
    </div>
  </TabItem>
</Tabs>

<Aside type="tip">
  Use la relación de inclusión cuando un caso de uso B siempre forma parte del caso de uso A, y B es lo suficientemente complejo o reutilizable como para justificar su separación.
</Aside>

## 3.3. Extensión («extend»)

La relación de extensión se utiliza cuando un caso de uso añade comportamiento opcional a otro caso de uso bajo ciertas condiciones.

### Características de la extensión

<div>
  <ul>
    <li>El caso de uso base puede funcionar independientemente del caso de uso que lo extiende</li>
    <li>Se representa con una flecha discontinua con la etiqueta «extend»</li>
    <li>La flecha va desde el caso de uso que extiende hacia el caso de uso base</li>
    <li>La extensión ocurre solo bajo ciertas condiciones</li>
    <li>Define puntos de extensión donde el comportamiento adicional puede insertarse</li>
  </ul>
</div>

<PlantUml code={`@startuml
usecase "Realizar Compra" as RealizarCompra
usecase "Aplicar Descuento" as AplicarDescuento

AplicarDescuento ..> RealizarCompra : <<extend>>
note right of RealizarCompra
  Punto de extensión:
  Cuando el cliente
  tiene cupón
end note
@enduml`} />

### Cuándo usar la relación de extensión

<div>
  <ul>
    <li>Para representar comportamiento opcional que no siempre ocurre</li>
    <li>Para manejar flujos alternativos o excepcionales</li>
    <li>Para añadir funcionalidades a un caso de uso sin modificarlo</li>
    <li>Para representar variantes de un caso de uso base</li>
  </ul>
</div>

<Tabs>
  <TabItem label="Ejemplo financiero">
    <div>
      <PlantUml code={`@startuml
usecase "Crear Cuenta" as CrearCuenta
usecase "Solicitar Aprobación" as SolicitarAprobacion

SolicitarAprobacion ..> CrearCuenta : <<extend>>
note right of CrearCuenta
  Punto de extensión:
  Cuando el monto
  supera el límite
end note
@enduml`} />
      <p>En este ejemplo, "Solicitar Aprobación" extiende "Crear Cuenta" solo cuando se cumple una condición específica.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema de compras">
    <div>
      <PlantUml code={`@startuml
actor Cliente
actor "Servicio de Cupones" as ServicioCupones

usecase "Realizar Compra" as RealizarCompra
usecase "Aplicar Descuento" as AplicarDescuento
usecase "Aplicar Cupón" as AplicarCupon
usecase "Ofrecer Envío Gratuito" as EnvioGratuito

Cliente --> RealizarCompra
ServicioCupones --> AplicarCupon

AplicarDescuento ..> RealizarCompra : <<extend>>
note right of RealizarCompra
  Punto de extensión:
  Cuando el total supera $1000
end note

AplicarCupon ..> RealizarCompra : <<extend>>
note left of RealizarCompra
  Punto de extensión:
  Cuando el cliente tiene cupón
end note

EnvioGratuito ..> RealizarCompra : <<extend>>
note bottom of RealizarCompra
  Punto de extensión:
  Cuando la compra supera $2000
end note
@enduml`} />
      <p>Este ejemplo muestra un sistema de compras donde el caso de uso "Realizar Compra" puede ser extendido por tres casos de uso diferentes bajo condiciones específicas: "Aplicar Descuento" cuando el total supera $1000, "Aplicar Cupón" cuando el cliente tiene un cupón disponible, y "Ofrecer Envío Gratuito" cuando la compra supera $2000.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema bancario">
    <div>
      <PlantUml code={`@startuml
actor Cliente
actor "Oficial de Crédito" as OficialCredito
actor "Sistema de Fraude" as SistemaFraude

usecase "Realizar Retiro" as RealizarRetiro
usecase "Verificar Identidad Adicional" as VerificarIdentidad
usecase "Notificar Departamento Seguridad" as NotificarSeguridad
usecase "Ofrecer Préstamo" as OfrecerPrestamo

Cliente --> RealizarRetiro
OficialCredito --> OfrecerPrestamo
SistemaFraude --> NotificarSeguridad

VerificarIdentidad ..> RealizarRetiro : <<extend>>
note right of RealizarRetiro
  Punto de extensión:
  Cuando el monto > $10,000
end note

NotificarSeguridad ..> RealizarRetiro : <<extend>>
note left of RealizarRetiro
  Punto de extensión:
  Cuando se detecta
  actividad sospechosa
end note

OfrecerPrestamo ..> RealizarRetiro : <<extend>>
note bottom of RealizarRetiro
  Punto de extensión:
  Cuando el saldo queda bajo
end note
@enduml`} />
      <p>En este sistema bancario, el caso de uso "Realizar Retiro" puede ser extendido por "Verificar Identidad Adicional" cuando el monto es mayor a $10,000, por "Notificar Departamento Seguridad" cuando se detecta actividad sospechosa, y por "Ofrecer Préstamo" cuando el saldo queda bajo después del retiro. Cada extensión involucra diferentes actores.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema de ventas complejo">
    <div>
      <PlantUml code={`@startuml
actor Cliente
actor Vendedor
actor "Gerente de Ventas" as Gerente
actor "Sistema de Marketing" as SistemaMarketing
actor "Sistema de Fidelización" as SistemaFidelizacion
actor "Sistema de Crédito" as SistemaCredito

usecase "Procesar Venta" as ProcesarVenta
usecase "Verificar Historial Crediticio" as VerificarHistorial
usecase "Ofrecer Garantía Extendida" as OfrecerGarantia
usecase "Aplicar Descuento VIP" as DescuentoVIP
usecase "Inscribir en Programa de Puntos" as InscribirPuntos
usecase "Ofrecer Productos Relacionados" as ProductosRelacionados
usecase "Solicitar Aprobación de Crédito" as SolicitarCredito
usecase "Programar Demostración" as ProgramarDemo
usecase "Activar Promoción Especial" as PromocionEspecial
usecase "Generar Encuesta de Satisfacción" as GenerarEncuesta

Cliente --> ProcesarVenta
Vendedor --> ProcesarVenta
Vendedor --> OfrecerGarantia
Vendedor --> ProductosRelacionados
Gerente --> SolicitarCredito
SistemaMarketing --> PromocionEspecial
SistemaFidelizacion --> InscribirPuntos
SistemaCredito --> VerificarHistorial

VerificarHistorial ..> ProcesarVenta : <<extend>>
note right of ProcesarVenta : Cuando la compra es a crédito

OfrecerGarantia ..> ProcesarVenta : <<extend>>
note left of ProcesarVenta : Cuando el producto es electrónico o de alto valor

DescuentoVIP ..> ProcesarVenta : <<extend>>
note top of DescuentoVIP : Cuando el cliente es VIP

InscribirPuntos ..> ProcesarVenta : <<extend>>
note top of InscribirPuntos : Cuando el cliente acepta el programa de fidelización

ProductosRelacionados ..> ProcesarVenta : <<extend>>
note top of ProductosRelacionados : Después de agregar productos al carrito

SolicitarCredito ..> VerificarHistorial : <<extend>>
note right of VerificarHistorial : Cuando el historial muestra riesgo medio

ProgramarDemo ..> OfrecerGarantia : <<extend>>
note right of OfrecerGarantia : Cuando el producto es complejo

PromocionEspecial ..> ProductosRelacionados : <<extend>>
note right of ProductosRelacionados : Cuando hay campaña activa

GenerarEncuesta ..> ProcesarVenta : <<extend>>
note bottom of ProcesarVenta : Al finalizar la compra
@enduml`} />
      <p>Este ejemplo muestra un sistema de ventas complejo con múltiples actores (Cliente, Vendedor, Gerente de Ventas, Sistema de Marketing, Sistema de Fidelización, Sistema de Crédito) y numerosas extensiones opcionales para el caso de uso principal "Procesar Venta". Las extensiones incluyen verificar historial crediticio cuando la compra es a crédito, ofrecer garantía extendida para productos electrónicos, aplicar descuento VIP para clientes especiales, inscribir en programa de puntos si el cliente acepta, ofrecer productos relacionados después de agregar productos al carrito, y generar una encuesta de satisfacción al finalizar la compra.</p>
      <p>Además, el diagrama muestra extensiones anidadas: "Solicitar Aprobación de Crédito" extiende "Verificar Historial Crediticio" (que a su vez extiende "Procesar Venta"), "Programar Demostración" extiende "Ofrecer Garantía Extendida", y "Activar Promoción Especial" extiende "Ofrecer Productos Relacionados". Esto demuestra cómo las extensiones pueden formar cadenas complejas de comportamiento opcional.</p>
    </div>
  </TabItem>
</Tabs>

<Aside type="note">
  La diferencia clave entre «include» y «extend» es que la inclusión es obligatoria y siempre ocurre, mientras que la extensión es opcional y ocurre solo bajo ciertas condiciones.
</Aside>

## 3.4. Generalización (entre actores o entre casos de uso)

La generalización representa una relación de herencia entre actores o entre casos de uso, similar a la herencia en programación orientada a objetos.

### Generalización entre actores

<div>
  <ul>
    <li>Indica que un actor específico hereda las características de un actor más general</li>
    <li>El actor específico puede interactuar con todos los casos de uso del actor general</li>
    <li>Se representa con una flecha con línea continua y punta triangular vacía</li>
    <li>La flecha apunta hacia el actor general (padre)</li>
  </ul>
</div>

<Tabs>
  <TabItem label="Sistema web">
    <div>
      <PlantUml code={`@startuml
actor "Usuario" as Usuario
actor "Usuario Registrado" as UsuarioRegistrado
actor "Administrador" as Administrador

Usuario <|-- UsuarioRegistrado
UsuarioRegistrado <|-- Administrador
@enduml`} />
      <p>En este ejemplo, "Usuario Registrado" es un tipo de "Usuario" y hereda todas sus asociaciones. A su vez, "Administrador" es un tipo de "Usuario Registrado" y hereda todas las asociaciones de ambos actores padre.</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema educativo">
    <div>
      <PlantUml code={`@startuml
actor "Miembro Universitario" as Miembro
actor "Estudiante" as Estudiante
actor "Profesor" as Profesor
actor "Estudiante Graduado" as EstudianteGraduado
actor "Profesor Titular" as ProfesorTitular

Miembro <|-- Estudiante
Miembro <|-- Profesor
Estudiante <|-- EstudianteGraduado
Profesor <|-- ProfesorTitular
@enduml`} />
      <p>Este ejemplo muestra un sistema educativo donde "Estudiante" y "Profesor" son tipos de "Miembro Universitario". A su vez, "Estudiante Graduado" es un tipo específico de "Estudiante" y "Profesor Titular" es un tipo específico de "Profesor".</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema hospitalario">
    <div>
      <PlantUml code={`@startuml
actor "Personal Sanitario" as Personal
actor "Médico" as Medico
actor "Enfermero" as Enfermero
actor "Especialista" as Especialista
actor "Cirujano" as Cirujano

Personal <|-- Medico
Personal <|-- Enfermero
Medico <|-- Especialista
Especialista <|-- Cirujano
@enduml`} />
      <p>Este ejemplo muestra un sistema hospitalario donde "Médico" y "Enfermero" son tipos de "Personal Sanitario". Además, "Especialista" es un tipo de "Médico" y "Cirujano" es un tipo específico de "Especialista".</p>
    </div>
  </TabItem>
</Tabs>

### Generalización entre casos de uso

<div>
  <ul>
    <li>Indica que un caso de uso específico hereda y especializa el comportamiento de un caso de uso más general</li>
    <li>El caso de uso hijo puede añadir o sobrescribir comportamiento del padre</li>
    <li>Se representa con una flecha con línea continua y punta triangular vacía</li>
    <li>La flecha apunta hacia el caso de uso general (padre)</li>
  </ul>
</div>

<Tabs>
  <TabItem label="Sistema de pagos">
    <div>
      <PlantUml code={`@startuml
usecase "Realizar Pago" as RealizarPago
usecase "Pagar con Tarjeta" as PagarConTarjeta
usecase "Pagar con Efectivo" as PagarConEfectivo
usecase "Pagar con Crédito" as PagarConCredito
usecase "Pagar con Débito" as PagarConDebito

PagarConTarjeta --|> RealizarPago
PagarConEfectivo --|> RealizarPago

PagarConCredito --|> PagarConTarjeta
PagarConDebito --|> PagarConTarjeta
@enduml`} />
      <p>En este ejemplo, "Pagar con Tarjeta" y "Pagar con Efectivo" son tipos de "Realizar Pago". A su vez, "Pagar con Crédito" y "Pagar con Débito" son tipos específicos de "Pagar con Tarjeta".</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema de autenticación">
    <div>
      <PlantUml code={`@startuml
usecase "Autenticar Usuario" as AutenticarUsuario
usecase "Autenticar con Contraseña" as AutenticarContrasena
usecase "Autenticar con Biometría" as AutenticarBiometria
usecase "Autenticar con Huella" as AutenticarHuella
usecase "Autenticar con Facial" as AutenticarFacial

AutenticarContrasena --|> AutenticarUsuario
AutenticarBiometria --|> AutenticarUsuario

AutenticarHuella --|> AutenticarBiometria
AutenticarFacial --|> AutenticarBiometria
@enduml`} />
      <p>Este ejemplo muestra un sistema de autenticación donde "Autenticar con Contraseña" y "Autenticar con Biometría" son tipos de "Autenticar Usuario". A su vez, "Autenticar con Huella" y "Autenticar con Facial" son tipos específicos de "Autenticar con Biometría".</p>
    </div>
  </TabItem>
  
  <TabItem label="Sistema de comunicación">
    <div>
      <PlantUml code={`@startuml
usecase "Enviar Mensaje" as EnviarMensaje
usecase "Enviar Correo" as EnviarCorreo
usecase "Enviar Mensaje Instantáneo" as EnviarMI
usecase "Enviar Correo Personal" as EnviarCorreoPersonal
usecase "Enviar Correo Masivo" as EnviarCorreoMasivo

EnviarCorreo --|> EnviarMensaje
EnviarMI --|> EnviarMensaje

EnviarCorreoPersonal --|> EnviarCorreo
EnviarCorreoMasivo --|> EnviarCorreo
@enduml`} />
      <p>Este ejemplo muestra un sistema de comunicación donde "Enviar Correo" y "Enviar Mensaje Instantáneo" son tipos de "Enviar Mensaje". A su vez, "Enviar Correo Personal" y "Enviar Correo Masivo" son tipos específicos de "Enviar Correo".</p>
    </div>
  </TabItem>
</Tabs>

### Cuándo usar la generalización

<div>
  <ul>
    <li>Para representar jerarquías de actores con diferentes niveles de privilegios</li>
    <li>Para modelar variantes de un caso de uso que comparten comportamiento común</li>
    <li>Para evitar duplicación al representar comportamientos similares</li>
  </ul>
</div>

<Aside type="caution">
  No abuse de la generalización. Úsela solo cuando realmente exista una relación de "es un tipo de" entre los elementos. Para comportamiento opcional, use «extend» en su lugar.
</Aside>

## Comparación entre tipos de relaciones

<div>
  <table>
    <thead>
      <tr>
        <th>Característica</th>
        <th>Asociación</th>
        <th>Inclusión («include»)</th>
        <th>Extensión («extend»)</th>
        <th>Generalización</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Propósito principal</td>
        <td>Conectar actores y casos de uso</td>
        <td>Reutilizar comportamiento obligatorio</td>
        <td>Añadir comportamiento opcional</td>
        <td>Representar herencia</td>
      </tr>
      <tr>
        <td>Representación</td>
        <td>Línea sólida</td>
        <td>Flecha discontinua</td>
        <td>Flecha discontinua</td>
        <td>Flecha sólida con triángulo</td>
      </tr>
      <tr>
        <td>Dirección</td>
        <td>Sin dirección específica</td>
        <td>Hacia el caso de uso incluido</td>
        <td>Hacia el caso de uso base</td>
        <td>Hacia el elemento general</td>
      </tr>
      <tr>
        <td>Obligatoriedad</td>
        <td>N/A</td>
        <td>Siempre ocurre</td>
        <td>Condicional</td>
        <td>N/A</td>
      </tr>
      <tr>
        <td>Elementos conectados</td>
        <td>Actor y caso de uso</td>
        <td>Caso de uso y caso de uso</td>
        <td>Caso de uso y caso de uso</td>
        <td>Actor y actor, o caso de uso y caso de uso</td>
      </tr>
    </tbody>
  </table>
</div>

## Ejemplo completo con diferentes tipos de relaciones

<PlantUml code={`@startuml
actor Usuario
actor Cliente
actor Vendedor

rectangle "Sistema de Comercio" {
  usecase "Realizar Compra" as RealizarCompra
  usecase "Aplicar Descuento" as AplicarDescuento
  usecase "Generar Factura" as GenerarFactura
  usecase "Calcular Impuestos" as CalcularImpuestos
  
  AplicarDescuento ..> RealizarCompra : <<extend>>
  RealizarCompra ..> GenerarFactura : <<include>>
  GenerarFactura ..> CalcularImpuestos : <<include>>
}

Usuario <|-- Cliente
Usuario <|-- Vendedor

Cliente --> RealizarCompra
Vendedor --> RealizarCompra
@enduml`} />

<Aside type="note">
  En este ejemplo:
  <ul>
    <li>Hay una asociación entre los actores (Cliente y Vendedor) y el caso de uso "Realizar Compra"</li>
    <li>"Aplicar Descuento" extiende "Realizar Compra" (comportamiento opcional)</li>
    <li>"Realizar Compra" incluye "Generar Factura" (comportamiento obligatorio)</li>
    <li>"Generar Factura" incluye "Calcular Impuestos" (comportamiento obligatorio)</li>
    <li>Cliente y Vendedor son especializaciones del actor Usuario (generalización)</li>
  </ul>
</Aside>

## Buenas prácticas al usar relaciones

<div>
  <ul>
    <li>
      <strong>Usar «include» para</strong>:
      <ul>
        <li>Comportamiento común que se repite en varios casos de uso</li>
        <li>Funcionalidades obligatorias que siempre ocurren</li>
        <li>Simplificar casos de uso complejos</li>
      </ul>
    </li>
    <li>
      <strong>Usar «extend» para</strong>:
      <ul>
        <li>Comportamiento opcional que depende de ciertas condiciones</li>
        <li>Flujos alternativos o excepcionales</li>
        <li>Funcionalidades que pueden añadirse sin modificar el caso de uso base</li>
      </ul>
    </li>
    <li>
      <strong>Usar generalización para</strong>:
      <ul>
        <li>Jerarquías de actores con diferentes niveles de privilegios</li>
        <li>Variantes de un caso de uso que comparten comportamiento común</li>
        <li>Representar relaciones "es un tipo de"</li>
      </ul>
    </li>
    <li>
      <strong>Evitar</strong>:
      <ul>
        <li>Relaciones circulares o redundantes</li>
        <li>Abuso de relaciones que compliquen innecesariamente el diagrama</li>
        <li>Mezclar pasos de un caso de uso con casos de uso independientes</li>
      </ul>
    </li>
  </ul>
</div>

<Aside type="tip">
  Recuerde que el objetivo principal de un diagrama de casos de uso es comunicar claramente las funcionalidades del sistema y cómo los usuarios interactúan con ellas. Use las relaciones para mejorar la claridad, no para complicar el diagrama.
</Aside>
