---
title: 02. Estructura del Proyecto
description: Carpetas principales, archivos .astro y sistema de rutas
---

import { Code } from '@astrojs/starlight/components';
import { Tabs, TabItem } from '@astrojs/starlight/components';
import { Badge } from '@astrojs/starlight/components';
import { Aside } from '@astrojs/starlight/components';
import { Steps } from '@astrojs/starlight/components';


## 2.1 Carpetas principales: src, public, pages y components

<Tabs>
  <TabItem label="ğŸ‘” Parte teÃ³rica">
    
    ### Estructura de Carpetas en Astro

    Un proyecto Astro sigue una estructura organizada y convencional que facilita el desarrollo y mantenimiento del cÃ³digo.

    #### ğŸ“ Carpeta `src/`

    **PropÃ³sito**: Contiene todo el cÃ³digo fuente del proyecto

    **Subcarpetas principales:**

    **`src/pages/`**
    - Contiene las pÃ¡ginas del sitio
    - Cada archivo se convierte automÃ¡ticamente en una ruta
    - Soporta `.astro`, `.md`, `.mdx`, `.html`
    - Sistema de routing basado en archivos

    **`src/components/`**
    - Componentes reutilizables
    - Pueden ser `.astro`, `.jsx`, `.vue`, `.svelte`
    - No generan rutas automÃ¡ticamente
    - Importables en pÃ¡ginas y otros componentes

    **`src/layouts/`**
    - Plantillas para envolver pÃ¡ginas
    - Define estructura comÃºn (header, footer)
    - ReutilizaciÃ³n de diseÃ±o
    - Usa `<slot />` para contenido dinÃ¡mico

    **`src/styles/`**
    - Estilos globales
    - Variables CSS
    - Mixins y utilidades
    - Importables en cualquier componente

    #### ğŸ“¦ Carpeta `public/`

    **PropÃ³sito**: Archivos estÃ¡ticos que se copian directamente al build

    **Contenido tÃ­pico:**
    - ImÃ¡genes (`favicon.svg`, logos)
    - Fuentes personalizadas
    - Archivos robots.txt, sitemap.xml
    - Documentos PDF, archivos descargables

    **CaracterÃ­sticas:**
    - No se procesan ni optimizan
    - Accesibles desde la raÃ­z (`/`)
    - No requieren import
    - Ideales para assets que no cambian

    #### ğŸ—‚ï¸ Otras Carpetas Importantes

    **`src/content/`**
    - Content Collections
    - Archivos Markdown/MDX organizados
    - ValidaciÃ³n con esquemas Zod
    - Ideal para blogs, documentaciÃ³n

    **`src/assets/`**
    - ImÃ¡genes que se optimizan
    - Requieren import
    - Procesadas por Astro
    - Generan mÃºltiples formatos

    #### ğŸ“Š ComparaciÃ³n: public vs assets

    | Aspecto | `public/` | `src/assets/` |
    |---------|-----------|---------------|
    | **Procesamiento** | No | SÃ­ |
    | **OptimizaciÃ³n** | No | SÃ­ |
    | **Import** | No necesario | Requerido |
    | **URL** | `/archivo.jpg` | Generada |
    | **Uso** | Assets estÃ¡ticos | ImÃ¡genes optimizadas |

  </TabItem>
  <TabItem label="ğŸ’¡ Ejemplos prÃ¡cticos">
    
    ### ğŸ“ Estructura Completa de Proyecto

    ```
    mi-proyecto-astro/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ pages/              # Rutas del sitio
    â”‚   â”‚   â”œâ”€â”€ index.astro     # â†’ /
    â”‚   â”‚   â”œâ”€â”€ about.astro     # â†’ /about
    â”‚   â”‚   â”œâ”€â”€ blog/
    â”‚   â”‚   â”‚   â”œâ”€â”€ index.astro # â†’ /blog
    â”‚   â”‚   â”‚   â””â”€â”€ [slug].astro # â†’ /blog/:slug
    â”‚   â”‚   â””â”€â”€ api/
    â”‚   â”‚       â””â”€â”€ posts.json.ts # â†’ /api/posts.json
    â”‚   â”œâ”€â”€ components/         # Componentes reutilizables
    â”‚   â”‚   â”œâ”€â”€ Header.astro
    â”‚   â”‚   â”œâ”€â”€ Footer.astro
    â”‚   â”‚   â”œâ”€â”€ Card.astro
    â”‚   â”‚   â””â”€â”€ Button.jsx
    â”‚   â”œâ”€â”€ layouts/            # Plantillas
    â”‚   â”‚   â”œâ”€â”€ Layout.astro
    â”‚   â”‚   â””â”€â”€ BlogLayout.astro
    â”‚   â”œâ”€â”€ styles/             # Estilos globales
    â”‚   â”‚   â”œâ”€â”€ global.css
    â”‚   â”‚   â””â”€â”€ variables.css
    â”‚   â”œâ”€â”€ content/            # Content Collections
    â”‚   â”‚   â”œâ”€â”€ config.ts
    â”‚   â”‚   â””â”€â”€ blog/
    â”‚   â”‚       â”œâ”€â”€ post-1.md
    â”‚   â”‚       â””â”€â”€ post-2.md
    â”‚   â””â”€â”€ assets/             # ImÃ¡genes optimizadas
    â”‚       â””â”€â”€ hero.jpg
    â”œâ”€â”€ public/                 # Archivos estÃ¡ticos
    â”‚   â”œâ”€â”€ favicon.svg
    â”‚   â”œâ”€â”€ robots.txt
    â”‚   â””â”€â”€ images/
    â”‚       â””â”€â”€ logo.png
    â”œâ”€â”€ astro.config.mjs        # ConfiguraciÃ³n
    â”œâ”€â”€ package.json
    â””â”€â”€ tsconfig.json
    ```

    ### ğŸ“„ Uso de Carpetas

    **Componente en `src/components/Card.astro`**
    ```astro
    ---
    const { title, description } = Astro.props;
    ---

    <div class="card">
      <h3>{title}</h3>
      <p>{description}</p>
    </div>

    <style>
      .card {
        border: 1px solid #ddd;
        padding: 1rem;
        border-radius: 8px;
      }
    </style>
    ```

    **PÃ¡gina usando componente**
    ```astro
    ---
    // src/pages/index.astro
    import Card from '../components/Card.astro';
    ---

    <html>
      <body>
        <Card 
          title="Mi Tarjeta"
          description="DescripciÃ³n de ejemplo"
        />
      </body>
    </html>
    ```

    ### ğŸ–¼ï¸ Uso de public vs assets

    **Imagen en `public/`**
    ```astro
    <!-- Acceso directo, sin import -->
    <img src="/logo.png" alt="Logo" />
    ```

    **Imagen en `src/assets/`**
    ```astro
    ---
    import { Image } from 'astro:assets';
    import hero from '../assets/hero.jpg';
    ---

    <!-- Optimizada automÃ¡ticamente -->
    <Image src={hero} alt="Hero" width={1200} height={600} />
    ```

    <Aside type="tip">
      ğŸ’¡ **Tip**: Usa `public/` para archivos que no cambian (favicon, robots.txt) y `src/assets/` para imÃ¡genes que necesitan optimizaciÃ³n.
    </Aside>

  </TabItem>
</Tabs>

---

## 2.2 Archivos .astro y cÃ³mo funcionan

<Tabs>
  <TabItem label="ğŸ‘” Parte teÃ³rica">
    
    ### Archivos .astro

    Los archivos `.astro` son la unidad fundamental de Astro, combinando HTML, CSS y JavaScript en un solo archivo con una sintaxis especial.

    #### ğŸ¯ Estructura de un Archivo .astro

    **Tres secciones principales:**

    **1. Frontmatter (---)**
    - CÃ³digo JavaScript/TypeScript que se ejecuta en el servidor
    - Delimitado por `---` al inicio y final
    - Importaciones, lÃ³gica, fetch de datos
    - No se envÃ­a al cliente

    **2. Template (HTML)**
    - Sintaxis similar a JSX
    - Puede usar variables del frontmatter
    - Expresiones con `{}`
    - Componentes con `<Component />`

    **3. Estilos (opcional)**
    - Tag `<style>` para CSS
    - Scoped por defecto
    - Soporta preprocesadores (Sass, Less)
    - Puede ser global con `is:global`

    #### âš™ï¸ CÃ³mo Funciona

    **Proceso de Renderizado:**
    1. **Build Time**: Frontmatter se ejecuta en el servidor
    2. **GeneraciÃ³n**: Se produce HTML estÃ¡tico
    3. **OptimizaciÃ³n**: CSS se extrae y minimiza
    4. **Output**: HTML puro sin JavaScript (por defecto)

    **CaracterÃ­sticas Especiales:**

    **Props**
    - Recibir datos de componentes padres
    - Acceso via `Astro.props`
    - Type-safe con TypeScript
    - ValidaciÃ³n en tiempo de desarrollo

    **Slots**
    - Insertar contenido dinÃ¡mico
    - Similar a children en React
    - Slots nombrados para mÃºltiples Ã¡reas
    - Flexibilidad en layouts

    **Directivas**
    - `class:list`: Clases condicionales
    - `set:html`: Insertar HTML raw
    - `is:global`: Estilos globales
    - `define:vars`: Variables CSS dinÃ¡micas

    #### ğŸ“Š ComparaciÃ³n con Otros Formatos

    | Aspecto | .astro | .jsx | .vue |
    |---------|--------|------|------|
    | **Sintaxis** | HTML-like | JSX | SFC |
    | **CSS** | Scoped nativo | CSS-in-JS | Scoped |
    | **JavaScript** | Frontmatter | Todo el archivo | `<script>` |
    | **Renderizado** | Servidor | Cliente/Servidor | Cliente/Servidor |

  </TabItem>
  <TabItem label="ğŸ’¡ Ejemplos prÃ¡cticos">
    
    ### ğŸ“„ Estructura BÃ¡sica de .astro

    ```astro
    ---
    // FRONTMATTER: CÃ³digo del servidor
    import Component from './Component.astro';

    const titulo = "Mi PÃ¡gina";
    const items = ['Item 1', 'Item 2', 'Item 3'];

    // Fetch de datos
    const response = await fetch('https://api.example.com/data');
    const data = await response.json();
    ---

    <!-- TEMPLATE: HTML -->
    <html lang="es">
      <head>
        <title>{titulo}</title>
      </head>
      <body>
        <h1>{titulo}</h1>
        
        <ul>
          {items.map(item => (
            <li>{item}</li>
          ))}
        </ul>

        <Component />
      </body>
    </html>

    <!-- ESTILOS: CSS Scoped -->
    <style>
      h1 {
        color: blue;
      }
      
      ul {
        list-style: none;
      }
    </style>
    ```

    ### ğŸ¨ Uso de Props

    **Componente con Props**
    ```astro
    ---
    // src/components/UserCard.astro
    interface Props {
      name: string;
      email: string;
      avatar?: string;
    }

    const { name, email, avatar = '/default-avatar.png' } = Astro.props;
    ---

    <div class="user-card">
      <img src={avatar} alt={name} />
      <h3>{name}</h3>
      <p>{email}</p>
    </div>

    <style>
      .user-card {
        border: 1px solid #ddd;
        padding: 1rem;
        border-radius: 8px;
      }
    </style>
    ```

    **Uso del componente**
    ```astro
    ---
    import UserCard from '../components/UserCard.astro';
    ---

    <UserCard 
      name="Juan PÃ©rez"
      email="juan@example.com"
      avatar="/juan.jpg"
    />
    ```

    ### ğŸ”„ Uso de Slots

    **Layout con Slot**
    ```astro
    ---
    // src/layouts/Layout.astro
    const { title } = Astro.props;
    ---

    <!DOCTYPE html>
    <html>
      <head>
        <title>{title}</title>
      </head>
      <body>
        <header>
          <nav>NavegaciÃ³n</nav>
        </header>
        
        <main>
          <slot />
        </main>
        
        <footer>
          <p>Â© 2024</p>
        </footer>
      </body>
    </html>
    ```

    **Uso del Layout**
    ```astro
    ---
    import Layout from '../layouts/Layout.astro';
    ---

    <Layout title="Mi PÃ¡gina">
      <h1>Contenido de la pÃ¡gina</h1>
      <p>Este contenido va en el slot</p>
    </Layout>
    ```

    ### ğŸ¯ Slots Nombrados

    ```astro
    ---
    // Layout con mÃºltiples slots
    ---

    <div class="container">
      <aside>
        <slot name="sidebar" />
      </aside>
      
      <main>
        <slot />
      </main>
    </div>
    ```

    **Uso**
    ```astro
    <Layout>
      <div slot="sidebar">
        <h3>Sidebar</h3>
      </div>
      
      <h1>Contenido Principal</h1>
    </Layout>
    ```

    <Aside type="note">
      ğŸ“ **Nota**: El cÃ³digo en el frontmatter se ejecuta solo durante el build, no en el navegador del usuario.
    </Aside>

  </TabItem>
</Tabs>

---

## 2.3 Sistema de rutas y navegaciÃ³n en Astro

<Tabs>
  <TabItem label="ğŸ‘” Parte teÃ³rica">
    
    ### Sistema de Rutas Basado en Archivos

    Astro utiliza un sistema de routing automÃ¡tico basado en la estructura de archivos en la carpeta `src/pages/`.

    #### ğŸ—ºï¸ Rutas EstÃ¡ticas

    **Mapeo Archivo â†’ URL**
    - `src/pages/index.astro` â†’ `/`
    - `src/pages/about.astro` â†’ `/about`
    - `src/pages/blog/index.astro` â†’ `/blog`
    - `src/pages/blog/post.astro` â†’ `/blog/post`

    #### ğŸ”„ Rutas DinÃ¡micas

    **ParÃ¡metros de Ruta**
    - Archivos con `[param].astro`
    - GeneraciÃ³n con `getStaticPaths()`
    - Acceso via `Astro.params`
    - Build time generation

    **Tipos de ParÃ¡metros:**
    - **Simple**: `[id].astro` â†’ `/123`
    - **MÃºltiple**: `[category]/[id].astro` â†’ `/tech/123`
    - **Rest**: `[...path].astro` â†’ `/any/nested/path`

    #### ğŸ“Š Tipos de Rutas

    | Tipo | Sintaxis | Ejemplo | URL |
    |------|----------|---------|-----|
    | **EstÃ¡tica** | `page.astro` | `about.astro` | `/about` |
    | **DinÃ¡mica** | `[param].astro` | `[id].astro` | `/123` |
    | **Rest** | `[...path].astro` | `[...slug].astro` | `/any/path` |
    | **Ãndice** | `index.astro` | `blog/index.astro` | `/blog` |

    #### ğŸ¯ getStaticPaths()

    **PropÃ³sito**: Generar rutas dinÃ¡micas en build time

    **CaracterÃ­sticas:**
    - Retorna array de objetos
    - Cada objeto tiene `params` y `props`
    - Se ejecuta solo durante el build
    - Genera todas las pÃ¡ginas posibles

    #### ğŸ”— NavegaciÃ³n

    **Enlaces Internos**
    - Tag `<a>` estÃ¡ndar
    - Rutas relativas o absolutas
    - Prefetching automÃ¡tico (opcional)
    - Sin recarga de pÃ¡gina completa

    **Redirecciones**
    - ConfiguraciÃ³n en `astro.config.mjs`
    - CÃ³digo de estado personalizable
    - Ãštil para URLs antiguas

  </TabItem>
  <TabItem label="ğŸ’¡ Ejemplos prÃ¡cticos">
    
    ### ğŸ—ºï¸ Rutas EstÃ¡ticas

    ```
    src/pages/
    â”œâ”€â”€ index.astro           â†’ /
    â”œâ”€â”€ about.astro           â†’ /about
    â”œâ”€â”€ contact.astro         â†’ /contact
    â”œâ”€â”€ blog/
    â”‚   â”œâ”€â”€ index.astro       â†’ /blog
    â”‚   â””â”€â”€ first-post.astro  â†’ /blog/first-post
    â””â”€â”€ products/
        â””â”€â”€ index.astro       â†’ /products
    ```

    ### ğŸ”„ Ruta DinÃ¡mica Simple

    **`src/pages/blog/[slug].astro`**
    ```astro
    ---
    export async function getStaticPaths() {
      const posts = [
        { slug: 'post-1', title: 'Primer Post' },
        { slug: 'post-2', title: 'Segundo Post' },
        { slug: 'post-3', title: 'Tercer Post' },
      ];

      return posts.map(post => ({
        params: { slug: post.slug },
        props: { title: post.title }
      }));
    }

    const { slug } = Astro.params;
    const { title } = Astro.props;
    ---

    <html>
      <body>
        <h1>{title}</h1>
        <p>Slug: {slug}</p>
      </body>
    </html>
    ```

    ### ğŸ“Š Ruta DinÃ¡mica con API

    **`src/pages/users/[id].astro`**
    ```astro
    ---
    export async function getStaticPaths() {
      const response = await fetch('https://jsonplaceholder.typicode.com/users');
      const users = await response.json();

      return users.map(user => ({
        params: { id: user.id.toString() },
        props: { user }
      }));
    }

    const { user } = Astro.props;
    ---

    <html>
      <body>
        <h1>{user.name}</h1>
        <p>Email: {user.email}</p>
        <p>Ciudad: {user.address.city}</p>
      </body>
    </html>
    ```

    ### ğŸ¯ Ruta Rest (Catch-all)

    **`src/pages/docs/[...slug].astro`**
    ```astro
    ---
    export async function getStaticPaths() {
      return [
        { params: { slug: 'intro' } },
        { params: { slug: 'guides/getting-started' } },
        { params: { slug: 'api/reference' } },
      ];
    }

    const { slug } = Astro.params;
    ---

    <html>
      <body>
        <h1>DocumentaciÃ³n</h1>
        <p>Ruta: {slug}</p>
      </body>
    </html>
    ```

    ### ğŸ”— NavegaciÃ³n entre PÃ¡ginas

    ```astro
    <nav>
      <a href="/">Inicio</a>
      <a href="/about">Acerca de</a>
      <a href="/blog">Blog</a>
      <a href="/contact">Contacto</a>
    </nav>
    ```

    ### âš¡ Prefetch de Enlaces

    **ConfiguraciÃ³n en `astro.config.mjs`**
    ```js
    export default defineConfig({
      prefetch: {
        prefetchAll: true,
        defaultStrategy: 'hover'
      }
    });
    ```

    **Uso manual**
    ```astro
    <a href="/blog" data-astro-prefetch>Blog</a>
    ```

    ### ğŸ”„ Redirecciones

    **`astro.config.mjs`**
    ```js
    export default defineConfig({
      redirects: {
        '/old-page': '/new-page',
        '/blog/old-post': '/blog/new-post',
        '/temp': {
          status: 302,
          destination: '/permanent'
        }
      }
    });
    ```

    <Aside type="tip">
      ğŸ’¡ **Tip**: Usa `getStaticPaths()` para generar pÃ¡ginas dinÃ¡micas desde APIs, bases de datos o archivos durante el build.
    </Aside>

  </TabItem>
</Tabs>
